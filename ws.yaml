# Configuration file to configure a single node environment using
# Neutron, OpenDaylight and OpenVSwitch connected using VHOSTUSER


targets:
    devstack-tox:
        - directory: openstack-dev/devstack
          commands:
            - tox

    networking-odl-tox:
        - directory: openstack/networking-odl
          commands:
            - tox

    neutron-tox:
        - directory: openstack/neutron
          commans:
            - tox

    tempest-vhostuser:
        - directory: openstack-dev/devstack
          sources: openstack/*
          host: control
          commands:
            - ./stack.sh


sources:
    - git_base_url: https://git.openstack.org
      branch: master
      projects:
          openstack-dev/devstack: {}

           openstack/networking-odl:
               gerrit_change: 273390/7
               remotes:
                   fressi: https://github.com/FedericoRessi/networking-odl.git
               rebase:
                   - fressi/integration/master

         openstack/neutron: {}
         openstack/nova: {}
         openstack/requirements: {}


hosts:
    - provisioner: vagrant
      directory: /vagrant
      hosts: control compute*
      commands:
          - echo PROVISIONED
